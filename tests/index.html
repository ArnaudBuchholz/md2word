<body>
  <head>
    <meta charset="UTF-8">
    <title>Word Simulator</title>
    <style>
.cursor {
  animation: blinker 1s linear infinite;
}

@keyframes blinker {
  50% {
    opacity: 0;
  }
}

.selected {
  background-color: #D0D0D0;
}

samp {
  color: gray
}
    </style>
    <script>
const module = {}
    </script>
    <script src="simulator.js"></script>
  </head>
  <html>
    <table border="0" width="100%">
      <tr>
        <td width="50%">
          <textarea id="markdown" cols="80" rows="20">
The styles are distinguished by font and paragraph styles.
A font style is only assigned to a single word within a paragraph
(e.g., “**Bold**,” “*Italic*,” or “`Programming Element`”),
while a paragraph style is assigned to an entire paragraph
(e.g., "Normal" or "Bullet List").
          </textarea><br />
          <button id="render">render</button><br />
          <textarea id="rendered" cols="80" rows="20">
text The styles are distinguished by font and paragraph styles.%NA font style is only assigned to a single word within a paragraph%N(e.g., “Bold,” “Italic,” or “Programming Element”),%Nwhile a paragraph style is assigned to an entire paragraph%N(e.g., "Normal" or "Bullet List").
left 122
select 19
          </textarea><br />
          <button id="run">run</button>
        </td>
        <td id="result">&nbsp;</td>
    </table>
    <script>
document.querySelector('#render').addEventListener('click', () => {
  fetch('/render', {
    method: 'POST',
    body: document.getElementById('markdown').value,
  })
    .then(response => response.text())
    .then(responseText => {
      document.getElementById('rendered').value = responseText
    })
})

document.querySelector('#run').addEventListener('click', () => {
  const html = module.exports(document.getElementById('rendered').value)
  document.getElementById('result').innerHTML = html
    .replace('<cursor/>', '<span class="cursor">|</span>')
    .replace(/<selected>/g, '<span class="selected">')
    .replace(/<\/selected>/g, '</span>')
})
    </script>
  </html>
</body>